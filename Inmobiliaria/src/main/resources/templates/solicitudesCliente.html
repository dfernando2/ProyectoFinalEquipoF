<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      lang="es" data-bs-theme="dark" xmlns="http://www.w3.org/1999/html">
<head th:replace="/fragments/head :: head"></head>
<nav th:replace="/fragments/navbar :: nav"></nav>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<body>

<div class="card">
    <div class="card-body text-center">
        <h3>Solicitudes de Ofertas</h3>
        <h3 th:if="${session.usuariosession != null}"
            th:text="'Â¡Bienvenido de vuelta! ' + ${session.usuariosession.name}"></h3>
    </div>
</div>

<div class="card center container">

    <table class="table">
    <thead>
    <tr>
        <th scope="col">Dia oferta</th>
        <th scope="col">Precio ofrecido</th>
        <th scope="col">Contacto cliente</th>
        <th scope="col">Estado</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="offer : ${offers}">
        <td th:text="${offer.creationDate}"></td>
        <td th:text="${offer.price}"></td>
        <td th:text="${offer.contact}"></td>
        <td th:text="${offer.offerStatus.name() == 'CLIENT_OFFER'}
                            ?'Pendiente':
                            (${offer.offerStatus.name() == 'ENTITY_ACCEPTED'}
                            ?'Confirmado':(${offer.offerStatus.name() == 'ENTITY_REJECTED'}
                            ?'Rechazado' : 'Finalizado')
                            )">

    </tbody>
</table>

</div>

</body>

</html>

