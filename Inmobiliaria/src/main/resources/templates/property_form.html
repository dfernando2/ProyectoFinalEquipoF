<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <head th:replace="/fragments/head :: head"></head>

    <body>

        <nav th:replace="/fragments/navbar :: nav"></nav>

        <div th:if="${error!=null}" class="card text-white bg-danger mb-3 mensajeError">
            <div class="card-body">
                <h5 class="card-title">Error üëé</h5>
                <p class="card-text" th:text="${error}"></p>
            </div>
        </div>
        <div th:if="${exito}!=null" class="card text-white bg-success mb-3 mt-3 mensajeExito" >
            <div class="card-body">
                <h5 class="card-title">Exito</h5>
                <p class="card-text" th:text="${exito}"></p>
            </div>
        </div>

        <div class="container">
            <form action="/property/register" method="POST" enctype="multipart/form-data">



                <div class="form-group my-3">
                    <label class="mb-2">Carga de Propiedades</label>
                </div>
                <div class="form-group my-3">
                    <input type="text" class="form-control" name="address" placeholder="Calle y numero" th:value="${address}">
                </div>
                <div class="form-group my-3">
                    <label for="province">Provincia de la propiedad:</label>
                    <select name="province" id="Provincia" class="form-control">
                        
                        <option selected th:text="${province}"></option>
                        <option value="Buenos Aires">Buenos Aires</option>
                        <option value="Catamarca">Catamarca</option>
                        <option value="Chaco">Chaco</option>
                        <option value="Chubut">Chubut</option>
                        <option value="C√≥rdoba">C√≥rdoba</option>
                        <option value="Corrientes">Corrientes</option>
                        <option value="Entre R√≠os">Entre R√≠os</option>
                        <option value="Formosa">Formosa</option>
                        <option value="Jujuy">Jujuy</option>
                        <option value="La Pampa">La Pampa</option>
                        <option value="La Rioja">La Rioja</option>
                        <option value="Mendoza">Mendoza</option>
                        <option value="Misiones">Misiones</option>
                        <option value="Neuqu√©n">Neuqu√©n</option>
                        <option value="R√≠o Negro">R√≠o Negro</option>
                        <option value="Salta">Salta</option>
                        <option value="San Juan">San Juan</option>
                        <option value="San Luis">San Luis</option>
                        <option value="Santa Cruz">Santa Cruz</option>
                        <option value="Santa Fe">Santa Fe</option>
                        <option value="Santiago del Estero">Santiago del Estero</option>
                        <option value="Tierra del Fuego">Tierra del Fuego</option>
                        <option value="Tucum√°n">Tucum√°n</option>
                        
                    </select>
                </div>
                <div class="form-group my-3">
                    <input type="text" class="form-control" name="location" placeholder="Ciudad" th:value="${location}">
                           </div>
                           <div class="form-group my-3">
                           <input type="number" class="form-control" name="surface" placeholder="Superficie total" th:value="${surface}">
                           </div>
                           <div class="form-group my-3">
                           <input type="number" class="form-control" name="bathrooms" placeholder="Ba√±os" th:value="${bathrooms}">
                           </div>
                           <div class="form-group my-3">
                           <input type="number" class="form-control" name="bedrooms" placeholder="Dormitorios" th:value="${bedrooms}">
                           </div>
                           <div class="form-group my-3">
                           <input type="number" class="form-control" name="price" placeholder="Precio" th:value="${price}">
                           </div>
                           <div class="form-group my-3">
                           <input type="text" class="form-control" name="description" placeholder="Descripcion" th:value="${description}">
                           </div>
                           <div class="form-group my-3">
                           <label for="status">Estado de la propiedad:</label>
                    <select class="form-control" id="status" name="status" th:value="${status}">
                        <option value="FOR_SALE">Venta</option>
                        <option value="FOR_RENT">Alquiler</option>
                    </select>
                </div>
                <div class="form-group my-3">
                    <input type="date" class="form-control" name="createDate" placeholder="Fecha de inicio" required>
                </div>
                <div class="form-group my-3">
                    <label for="status" th:value="${type}">Tipo de propiedad:</label>
                    <select class="form-control" id="type" name="type" th:value="${type}">
                        <option value="CASA">CASA</option>
                        <option value="DEPARTAMENTO">DEPARTAMENTO</option>
                        <option value="CABA√ëA">CABA√ëA</option>
                        <option value="DUPLEX">DUPLEX</option>
                        <option value="TRIPLEX">TRIPLEX</option>
                        <option value="PH">PH</option>
                        <option value="COCHERA">COCHERA</option>
                        <option value="DEPOSITO">DEPOSITO</option>
                        <option value="PISO">PISO</option>
                        <option value="TERRENO">TERRENO</option>
                        <option value="OFICINA">OFICINA</option>
                        <option value="LOTE">LOTE</option>
                        <option value="COMERCIO">COMERCIO</option>
                        <option value="CAMPO">CAMPO</option>
                    </select>
                </div>
                <div class="col-12">
                    <label for="files" class="form-label">Elegir imagenes</label>
                    <input type="file" multiple name="files" class="form-control" id="files" accept="image/*" required>
                </div>

                <div class="form-group my-3">
                    <button type="submit" class="btn btn-primary mt-3 botones">Guardar</button>
                </div>
            </form>
        </div>
        <footer th:replace="/fragments/footer :: footer"></footer>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
            const formulario = document.querySelector("form");
            formulario.addEventListener("submit", function (event) {
            const contrasena = document.getElementById("contrasena").value;
            const confirmarContrasena = document.getElementById("confirmar-contrasena").value;

            if (contrasena !== confirmarContrasena) {
            alert("Las contrase√±as no coinciden. Por favor, int√©ntalo de nuevo.");
            event.preventDefault(); // Evitar que el formulario se env√≠e
            }
            });
            });
        </script>

    </body>

</html>