<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
    xmlns="http://www.w3.org/1999/html">

<head th:replace="/fragments/head :: head"></head>
<nav th:replace="/fragments/navbar :: nav"></nav>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<body>

    <div class="card">
        <div class="card-body text-center">
            <h3>¡Bienvenido de vuelta!</h3>
            <!--    <h3 th:if="${session.usuariosession != null}" th:text="'¡Bienvenido de vuelta! ' + ${session.usuariosession.nombre}">-->
        </div>
    </div>

    <div class="card center container">

        <table class="table">
            <thead>
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Documento</th>
                    <th scope="col">Email</th>
                    <th scope="col">Rol</th>
                    <th scope="col">Foto</th>
                    <th scope="col">Acción</th>
                </tr>
            </thead>
            <tbody th:each="usuario : ${usuarios}">
                <tr th:if="${usuario.rol.toString() == 'CLIENT'}">
                    <th scope="row" th:text="${usuario.id}"></th>
                    <td th:text="${usuario.name}"></td>
                    <td th:text="${usuario.dni}"></td>
                    <td th:text="${usuario.email}"></td>
                    <td th:text="${usuario.rol}"></td>
                    <td th:text="${usuario.image}"></td>
                    <td class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            Elige
                        </a>
                        <ul class="dropdown-menu">
                            <li><a th:href="@{/dashboard/usuario/editar}" class="dropdown-item">Editar</a></li>
                            <form class="formulario" th:action="@{/dashboard/usuario/editar/__${usuario.dni}__}" METHOD="post">
<!--                                <li><a class="dropdown-item" href="@{/dashboard/usuario/remove}">Dar de baja</a></li>-->
<!--                                <form class="formulario" th:action="@{/dashboard/usuario/remove}" METHOD="post">-->

                            </form>


                            <li><a class="dropdown-item" href="#">Dar de baja</a></li>
                        </ul>
                    </td>
                </tr>
                
            </tbody>
        </table>



    </div>


</body>

</html>